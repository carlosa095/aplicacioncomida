<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title>Aplicación Comida</title>
		<link type = "text/css" href = "estilo.css" rel = "stylesheet"/>
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" charset="utf-8">
		
			function mensaje() {
				navigator.notification.alert("función");
				var db = window.openDatabase("DEMO", "1.0", "PhoneGap Demo", 200000);
				db.transaction(queryDB, errorCB);
			}
			
			function errorCB(tx, err) {
			navigator.notification.alert("Error processing SQL: "+err);
			}
			
			function queryDB(tx) {
				tx.executeSql('SELECT nombre_p, precio FROM PRODUCTOS', [], function (tx, results) {
				var len = results.rows.length;
				for (var i=0; i<len; i++){
					var p = results.rows.item(i);
					var li  = document.createElement('li');
					//var num = document.createElement('input');
					//num.setAttribute("type","number");
					li.innerHTML = "" + p.nombre_p+ " " + p.precio + "<div class='quantity'><input type = 'number' step = '1'></div></li>";
					document.getElementById("lista").appendChild(li);
				}}, errorCB);
			}
			
			    jQuery('<div class="quantity-nav"><div class="quantity-button quantity-up">+</div><div class="quantity-button quantity-down">-</div></div>').insertAfter('.quantity input');
				jQuery('.quantity').each(function() {
				  var spinner = jQuery(this),
					input = spinner.find('input[type="number"]'),
					btnUp = spinner.find('.quantity-up'),
					btnDown = spinner.find('.quantity-down'),
					min = input.attr('min'),
					max = input.attr('max');

				  btnUp.click(function() {
					var oldValue = parseFloat(input.val());
					if (oldValue >= max) {
					  var newVal = oldValue;
					} else {
					  var newVal = oldValue + 1;
					}
					spinner.find("input").val(newVal);
					spinner.find("input").trigger("change");
				  });

				  btnDown.click(function() {
					var oldValue = parseFloat(input.val());
					if (oldValue <= min) {
					  var newVal = oldValue;
					} else {
					  var newVal = oldValue - 1;
					}
					spinner.find("input").val(newVal);
					spinner.find("input").trigger("change");
				  });

				});
		</script>
    </head>
    <body onload = "mensaje()">
        <script type="text/javascript" src="cordova.js"></script>
		<div class = "contenedor1">
			<div class = "filas1">
				<div class = "contenedor2">
					<h1>Comida</h1>
				</div>
			</div>
			<div class = "filas2">
				<div class = "contenedor3">
					<ul id = "lista">
						<li><input type = "button" onclick = "mensaje()" value = "Opcion"></li>
					</ul>
				</div>
			</div>
		</div>
    </body>
</html>
